<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{store/fragments/_layout :: head('Create Account')}"></head>

<body>
<header th:replace="~{store/fragments/_layout :: header}"></header>

<main class="au-auth">
    <div class="au-auth-card">
        <h1 class="au-auth-card__title">Create Account</h1>
        <p class="au-auth-card__subtitle">Join Auvier for exclusive access</p>

        <form th:action="@{/register}"
              th:object="${user}"
              method="post"
              novalidate>

            <!-- Username -->
            <div class="au-form-group">
                <label class="au-form-label">Username *</label>
                <input type="text"
                       th:field="*{username}"
                       class="au-form-input"
                       th:classappend="${#fields.hasErrors('username')} ? ' is-invalid'"
                       placeholder="Choose a username">
                <span class="au-form-error" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></span>
            </div>

            <!-- Email -->
            <div class="au-form-group">
                <label class="au-form-label">Email *</label>
                <input type="email"
                       th:field="*{email}"
                       class="au-form-input"
                       th:classappend="${#fields.hasErrors('email')} ? ' is-invalid'"
                       placeholder="your@email.com">
                <span class="au-form-error" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
            </div>

            <!-- Password -->
            <div class="au-form-group">
                <label class="au-form-label">Password *</label>
                <input type="password"
                       th:field="*{password}"
                       class="au-form-input"
                       th:classappend="${#fields.hasErrors('password')} ? ' is-invalid'"
                       placeholder="Create a password">
                <span class="au-form-error" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></span>
            </div>

            <!-- First & Last Name -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--au-space-md);">
                <div class="au-form-group">
                    <label class="au-form-label">First Name</label>
                    <input type="text"
                           th:field="*{firstName}"
                           class="au-form-input"
                           th:classappend="${#fields.hasErrors('firstName')} ? ' is-invalid'"
                           placeholder="First name">
                    <span class="au-form-error" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></span>
                </div>

                <div class="au-form-group">
                    <label class="au-form-label">Last Name</label>
                    <input type="text"
                           th:field="*{lastName}"
                           class="au-form-input"
                           th:classappend="${#fields.hasErrors('lastName')} ? ' is-invalid'"
                           placeholder="Last name">
                    <span class="au-form-error" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></span>
                </div>
            </div>

            <!-- Address -->
            <div class="au-form-group">
                <label class="au-form-label">Address</label>
                <input type="text"
                       th:field="*{address}"
                       class="au-form-input"
                       th:classappend="${#fields.hasErrors('address')} ? ' is-invalid'"
                       placeholder="Your address">
                <span class="au-form-error" th:if="${#fields.hasErrors('address')}" th:errors="*{address}"></span>
            </div>

            <!-- Phone -->
            <div class="au-form-group">
                <label class="au-form-label">Phone</label>
                <input type="tel"
                       th:field="*{phone}"
                       class="au-form-input"
                       th:classappend="${#fields.hasErrors('phone')} ? ' is-invalid'"
                       placeholder="Your phone number"
                       pattern="[+]?[0-9\s\-()]+">
                <span class="au-form-error" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></span>
            </div>

            <button type="submit" class="au-btn au-btn--primary au-btn--full">
                Create Account
            </button>
        </form>

        <p class="au-auth-card__footer">
            Already have an account? <a th:href="@{/login}">Sign in</a>
        </p>
    </div>
</main>

<footer th:replace="~{store/fragments/_layout :: footer}"></footer>
<th:block th:replace="~{store/fragments/_layout :: scripts}"></th:block>
</body>
</html>
